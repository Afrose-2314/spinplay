<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Guess Game</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 20px;
    background: linear-gradient(135deg, #c3ec52 0%, #0ba29d 100%);
    min-height: 100vh;
    margin: 0;
  }
  #instructionOverlay {
    position: fixed;
    top:0; left:0; right:0; bottom:0;
    background: rgba(0,0,0,0.75);
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-size: 22px;
    padding: 20px;
    z-index: 1000;
  }
  #instructionOverlay button {
    margin-top: 20px;
    padding: 10px 30px;
    font-size: 18px;
    border-radius: 6px;
    border: none;
    background-color: #0984e3;
    color: white;
    cursor: pointer;
  }
  #instructionOverlay button:hover {
    background-color: #0652dd;
  }
  input, button {
    font-size: 18px;
    padding: 8px;
    margin: 10px 5px 0 0;
    border-radius: 6px;
    border: none;
  }
  #result, #timer, #score {
    font-weight: bold;
    font-size: 20px;
    margin-top: 15px;
    color: white;
  }
</style>
</head>
<body>

<div id="instructionOverlay">
  <p>Welcome to Guess Game!<br />
  Guess the secret number between 1 and 100.<br />
  You have 60 seconds.<br />
  Use Submit button or press Enter to submit your guess.<br />
  Good luck!</p>
  <button id="startBtn">OK</button>
</div>

<h2 style="color: white;">Game: Guess the Number (1-100)</h2>

<input type="number" id="guessInput" min="1" max="100" />
<button id="submitBtn">Submit</button>

<p id="result"></p>
<p id="timer">Time left: 60</p>

<script>
  const overlay = document.getElementById('instructionOverlay');
  const startBtn = document.getElementById('startBtn');
  const guessInput = document.getElementById('guessInput');
  const submitBtn = document.getElementById('submitBtn');
  const resultEl = document.getElementById('result');
  const timerEl = document.getElementById('timer');

  let answer, time, timerInterval, gameStarted = false;

  if(sessionStorage.getItem('guessInstructionsShown')) {
    overlay.style.display = 'none';
    startGame();
  }

  startBtn.onclick = () => {
    sessionStorage.setItem('guessInstructionsShown', 'true');
    overlay.style.display = 'none';
    startGame();
  };

  function startGame() {
    gameStarted = true;
    answer = Math.floor(Math.random() * 100) + 1;
    time = 60;
    timerEl.innerText = "Time left: " + time;
    resultEl.innerText = "";
    guessInput.disabled = false;
    submitBtn.disabled = false;
    guessInput.value = "";
    guessInput.focus();

    timerInterval = setInterval(() => {
      time--;
      timerEl.innerText = "Time left: " + time;
      if (time < 0) {
        clearInterval(timerInterval);
        endGame(false);
      }
    }, 1000);
  }

  function checkGuess() {
    if (!gameStarted) return;
    const guess = parseInt(guessInput.value);
    if (isNaN(guess) || guess < 1 || guess > 100) {
      resultEl.innerText = "‚ö†Ô∏è Enter a number between 1 and 100";
      return;
    }

    if (guess === answer) {
      clearInterval(timerInterval);
      resultEl.innerText = "üéâ Correct!";
      endGame(true);
    } else if (guess < answer) {
      resultEl.innerText = "üîº Too Low!";
    } else {
      resultEl.innerText = "üîΩ Too High!";
    }
  }

  submitBtn.onclick = checkGuess;

  guessInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') checkGuess();
  });

  function endGame(won) {
    gameStarted = false;
    guessInput.disabled = true;
    submitBtn.disabled = true;
    if(!won) {
      resultEl.innerText = `‚è∞ Time's up! The number was ${answer}`;
    }
    setTimeout(() => {
      window.location.href = 'index.html';
    }, 10000);
  }
</script>

</body>
</html>
